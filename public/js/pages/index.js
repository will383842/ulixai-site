(()=>{AOS.init({duration:600,once:!0,offset:50,easing:"ease-out"});var e=document.getElementById("serviceGrid").innerHTML,t=null;window.openAIPopup=function(){var e=document.getElementById("aiPopup"),n=document.getElementById("aiPopupOverlay");e.classList.add("show"),n.classList.add("show"),t=setTimeout(function(){closeAIPopup()},5e3)},window.closeAIPopup=function(){var e=document.getElementById("aiPopup"),n=document.getElementById("aiPopupOverlay");e.classList.remove("show"),n.classList.remove("show"),t&&(clearTimeout(t),t=null)},document.addEventListener("keydown",function(e){"Escape"===e.key&&closeAIPopup()});var n=document.getElementById("backToTop");window.addEventListener("scroll",function(){window.pageYOffset>300?n.classList.add("show"):n.classList.remove("show")}),n.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),window.scrollBubbles=function(e){var t=document.getElementById("categoryContainer");"next"===e?t.scrollBy({left:300,behavior:"smooth"}):t.scrollBy({left:-300,behavior:"smooth"})},window.toggleFAQ=function(e){var t=e.nextElementSibling,n=e,o=t.classList.contains("active");document.querySelectorAll(".faq-content").forEach(function(e){e.classList.remove("active")}),document.querySelectorAll(".faq-toggle").forEach(function(e){e.classList.remove("active")}),o||(t.classList.add("active"),n.classList.add("active"))},document.getElementById("categorySelect").addEventListener("change",function(){var e=this.value,t=document.getElementById("subcategoryWrapper"),n=document.getElementById("subcategorySelect"),o=document.getElementById("subsubcategoryWrapper");e?fetch("/get-subcategories/".concat(e)).then(function(e){return e.json()}).then(function(e){n.innerHTML='<option value="">Select</option>',e.forEach(function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.name,n.appendChild(t)}),t.classList.remove("hidden"),o.classList.add("hidden")}).catch(function(e){return console.error("Error:",e)}):(t.classList.add("hidden"),o.classList.add("hidden"))}),document.getElementById("subcategorySelect").addEventListener("change",function(){var e=this.value,t=document.getElementById("subsubcategoryWrapper"),n=document.getElementById("subsubcategorySelect");e?fetch("/get-subsubcategories/".concat(e)).then(function(e){return e.json()}).then(function(e){e&&e.length>0?(n.innerHTML='<option value="">Select</option>',e.forEach(function(e){var t=document.createElement("option");t.value=e.id,t.textContent=e.name,n.appendChild(t)}),t.classList.remove("hidden")):t.classList.add("hidden")}).catch(function(e){console.error("Error:",e),t.classList.add("hidden")}):t.classList.add("hidden")}),document.getElementById("resetFiltersButton").addEventListener("click",function(){document.getElementById("languageSelect").value="",document.getElementById("countrySelect").value="",document.getElementById("categorySelect").value="",document.getElementById("subcategorySelect").value="",document.getElementById("subsubcategorySelect").value="",document.getElementById("subcategoryWrapper").classList.add("hidden"),document.getElementById("subsubcategoryWrapper").classList.add("hidden"),document.getElementById("serviceGrid").innerHTML=e,AOS.refresh()}),document.getElementById("filterButton").addEventListener("click",function(){var e=document.getElementById("categorySelect").value,t=document.getElementById("subcategorySelect").value,n=document.getElementById("subsubcategorySelect").value||"",o=document.getElementById("languageSelect").value,a=document.getElementById("countrySelect").value,c=document.getElementById("serviceGrid");c.innerHTML='\n    <div class="col-span-full flex justify-center py-16">\n      <div class="animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"></div>\n    </div>\n  ',fetch("/filter-providers?category_id=".concat(e,"&subcategory_id=").concat(t,"&subsubcategory_id=").concat(n,"&country=").concat(a,"&language=").concat(o)).then(function(e){return e.json()}).then(function(e){c.innerHTML="",e.length>0?(e.slice(0,10).forEach(function(e,t){var n=e.special_status?JSON.parse(e.special_status):{},o=Array.isArray(e.operational_countries)?e.operational_countries:e.operational_countries?JSON.parse(e.operational_countries):[],a=e.average_rating||5,s=e.reviews_count||0,l=Math.floor(a),r=Object.keys(n).length>0?Object.keys(n)[0]:null,i=[];if(e.categories&&Array.isArray(e.categories))i=e.categories.slice(0,2).map(function(e){return e.name});else if(e.categories&&e.categories.length)try{i=e.categories.slice(0,2).map(function(e){return e.name||e})}catch(e){i=[]}var d='\n            <a href="/provider-details/'.concat(e.slug,'" \n              class="profile-card card-modern bg-white rounded-3xl overflow-hidden block group"\n              data-aos="fade-up"\n              data-aos-delay="').concat(30*t,'">\n              \n              <div class="aspect-ratio-box relative overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100">\n                <img\n                  src="').concat(e.profile_photo||"images/attachment.png",'"\n                  alt="').concat(e.first_name,'"\n                  class="provider-image absolute inset-0 w-full h-full object-cover"\n                  onerror="this.src=\'images/attachment.png\';"\n                />\n                \n                <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>\n                \n                ').concat(r?'\n                  <div class="absolute top-3 left-3">\n                    <span class="badge-specialty text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg">\n                      '.concat(r,"\n                    </span>\n                  </div>\n                "):"",'\n\n                <div class="absolute top-3 right-3">\n                  <div class="status-online w-3 h-3 bg-green-400 rounded-full border-2 border-white shadow-lg"></div>\n                </div>\n\n                ').concat(e.preferred_language?'\n                  <div class="absolute bottom-3 left-3">\n                    <span class="bg-white/90 backdrop-blur text-gray-800 px-2.5 py-1 rounded-full text-xs font-bold">\n                      üó£Ô∏è '.concat(e.preferred_language,"\n                    </span>\n                  </div>\n                "):"",'\n              </div>\n\n              <div class="p-4">\n                <div class="mb-2">\n                  <h3 class="font-bold text-base text-gray-900 truncate mb-1">\n                    ').concat(e.first_name||"Provider",'\n                  </h3>\n                  \n                  <div class="flex items-center mb-2">\n                    <div class="flex text-yellow-400 text-xs">\n                      ').concat(Array(5).fill(0).map(function(e,t){return'\n                        <svg class="w-3 h-3 '.concat(t<l?"fill-current":"fill-gray-300",'" viewBox="0 0 20 20">\n                          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>\n                        </svg>\n                      ')}).join(""),'\n                    </div>\n                    <span class="ml-1 text-xs font-bold text-gray-700">').concat(a.toFixed(1),'</span>\n                    <span class="ml-1 text-xs text-gray-500">(').concat(s,")</span>\n                  </div>\n                </div>\n\n                ").concat(i.length>0?'\n                  <div class="mb-2">\n                    <p class="text-xs font-bold text-gray-500 mb-1">üìÇ Services:</p>\n                    <div class="flex flex-wrap gap-1">\n                      '.concat(i.map(function(e){return'\n                        <span class="bg-purple-50 text-purple-700 px-2 py-0.5 rounded-lg text-xs font-medium">\n                          '.concat(e,"\n                        </span>\n                      ")}).join(""),"\n                    </div>\n                  </div>\n                "):"","\n\n                ").concat(o.length>0?'\n                  <div class="pt-2 border-t border-gray-100">\n                    <p class="text-xs font-bold text-gray-500 mb-1">üåç Countries of operation:</p>\n                    <div class="flex flex-wrap gap-1">\n                      '.concat(o.slice(0,2).map(function(e){return'\n                        <span class="bg-blue-50 text-blue-700 px-2 py-0.5 rounded-lg text-xs font-medium">\n                          '.concat(e,"\n                        </span>\n                      ")}).join(""),"\n                      ").concat(o.length>2?'\n                        <span class="bg-gray-100 text-gray-700 px-2 py-0.5 rounded-lg text-xs font-medium">\n                          +'.concat(o.length-2,"\n                        </span>\n                      "):"","\n                    </div>\n                  </div>\n                "):"","\n              </div>\n            </a>\n          ");c.innerHTML+=d}),AOS.refresh()):c.innerHTML='\n          <div class="col-span-full text-center py-16">\n            <div class="text-6xl mb-4">üò¢</div>\n            <h3 class="text-2xl font-bold text-gray-800 mb-2">No local pro found</h3>\n            <p class="text-gray-600 mb-4">Try adjusting your filters or</p>\n            <button onclick="document.getElementById(\'resetFiltersButton\').click()" class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors">\n              Reset filters\n            </button>\n          </div>\n        '}).catch(function(e){console.error("Error:",e),c.innerHTML='\n        <div class="col-span-full text-center py-16">\n          <div class="text-6xl mb-4">‚ö†Ô∏è</div>\n          <h3 class="text-2xl font-bold text-gray-800 mb-2">Oops! Something went wrong</h3>\n          <p class="text-gray-600 mb-4">Please try again</p>\n          <button onclick="location.reload()" class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors">\n            Reload page\n          </button>\n        </div>\n      '})});var o=0,a=0,c=document.getElementById("categoryContainer");c&&(c.addEventListener("touchstart",function(e){o=e.touches[0].clientX}),c.addEventListener("touchend",function(e){a=e.changedTouches[0].clientX;var t=o-a;Math.abs(t)>50&&(t>0?scrollBubbles("next"):scrollBubbles("prev"))}))})();